---
layout: post
description: "None.NULL"
tweet-text: ""
author: taocp
tags:
- linux
categories:
- linux
---
zip 解压乱码
===========
先安装unzip

**有些版本的unzip有-O选项，这样用：**
unzip -O cp936 [zip-name] -d dir #神奇的-O选项，你在手册上都看不到哦！

**有些版本的unzip没有-O选项，那就不用unzip，转而用7z和convmv ：[ref](http://allencch.wordpress.com/2013/04/15/extracting-files-from-zip-which-contains-non-utf8-filename-in-linux/)**
`env LANG=C 7z x file.zip
convmv -f gbk -t utf8 --notest -r * 
可以写成一个小脚本方便使用：$ cat ~/bin/myunzip
\#!/bin/bash
\# 2013  for unzip Chinese
\#echo "not perfect implementation"
TMP_DIR=/tmp/junzip_$(date +%Y%m%d%H%M%S)
mkdir $TMP_DIR
env LANG=C 7z x -o$TMP_DIR "$1"
convmv -f gbk -t utf8 --notest -r $TMP_DIR/*
cp -r $TMP_DIR/* .`

`usage: myunzip file.zip`
